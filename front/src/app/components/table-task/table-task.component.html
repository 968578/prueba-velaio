<div class="border shadow p-2 rounded-1 mt-2">
  <section>
    <div>
      <select class="form-select" [(ngModel)]="selectedState" (change)="changeFilter()  ">
        <option *ngFor="let state of taskStates" [value]="state">{{state}}</option>
      </select>
    </div>
  </section>
  <section>
    <div>
      <div *ngFor="let task of tasks;let i = index" class="border shadow-sm rounded-1 mt-2 p-1">
        <div class="d-flex justify-content-between">
          <p class="fst-italic fw-medium fs-6">#{{task.id}}</p>
          <p class="fw-bolder fs-5">{{task.title}}</p>
          <div *ngIf="task.state == 'Pendiente' && task.id" style="height: 20px;">
            <button title="Marca como cerrada" (click)="closeTask(task.id)" type="button h-100" class="btn bg-warning-subtle">Pendiente🟢</button>
          </div>
          <div *ngIf="task.state == 'Cerrada' && task.id" style="height: 20px;">
            <p type="p h-100" class="">Cerrada⚫</p>
          </div>
          <div style="height: 20px;" *ngIf="task.id">
            <button (click)="deleteTask(task.id)" type="button h-100" class="btn bg-danger-subtle">Eliminar ❌</button>
          </div>
          
          <p class="fw">{{task.date | date}}</p>
        </div>
        <div class="mb-1">
          <div class=" bg-body-secondary ms-3 ps-2 border rounded-3 mb-0 mt-2" *ngFor="let user of task.users">
            <div class="d-flex">
              <p class="fw-bolder me-3 mb-0">{{user.name}}</p>
              <p class="mb-0">{{user.age}}</p>
            </div>
            <div class="d-flex ">
              <p ngClass="ms-2" *ngFor="let sk of user.skills" class="fst-italic">{{sk}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>